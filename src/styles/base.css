/**
 * UNION DIGITALE - BASE STYLES
 * Global styles and resets
 */

@import './design-tokens.css';

@layer base {
    /* ========================================
     FONT IMPORTS
     ======================================== */

    /* Fonts loaded with display=swap to prevent FOUT/FOIT and reduce CLS */
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&family=Inter:wght@300;400;500;600;700&display=swap');

    /* ========================================
     GLOBAL RESETS
     ======================================== */

    *,
    *::before,
    *::after {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
    }

    html {
        font-size: 16px;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        text-rendering: optimizeLegibility;
        scroll-behavior: smooth;
    }

    body {
        font-family: var(--font-body);
        font-size: var(--text-base);
        font-weight: var(--font-normal);
        line-height: var(--leading-normal);
        color: var(--color-neutral-900);
        background-color: var(--color-neutral-50);
        min-height: 100vh;
        overflow-x: hidden;
    }

    /* ========================================
     TYPOGRAPHY DEFAULTS
     ======================================== */

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        font-family: var(--font-display);
        font-weight: var(--font-bold);
        line-height: var(--leading-tight);
        color: var(--color-primary-900);
        margin-bottom: var(--space-4);
    }

    h1 {
        font-size: var(--text-5xl);
        font-weight: var(--font-extrabold);
        letter-spacing: var(--tracking-tight);
    }

    h2 {
        font-size: var(--text-4xl);
        font-weight: var(--font-bold);
    }

    h3 {
        font-size: var(--text-3xl);
        font-weight: var(--font-bold);
    }

    h4 {
        font-size: var(--text-2xl);
        font-weight: var(--font-semibold);
    }

    h5 {
        font-size: var(--text-xl);
        font-weight: var(--font-semibold);
    }

    h6 {
        font-size: var(--text-lg);
        font-weight: var(--font-medium);
    }

    p {
        margin-bottom: var(--space-4);
        color: var(--color-neutral-700);
    }

    a {
        color: var(--color-primary-600);
        text-decoration: none;
        transition: color var(--transition-fast);
    }

    a:hover {
        color: var(--color-primary-700);
    }

    /* ========================================
     MOBILE-FIRST RESPONSIVE TYPOGRAPHY
     ======================================== */

    @media (max-width: 768px) {
        html {
            font-size: 14px;
        }

        h1 {
            font-size: var(--text-4xl);
        }

        h2 {
            font-size: var(--text-3xl);
        }

        h3 {
            font-size: var(--text-2xl);
        }

        h4 {
            font-size: var(--text-xl);
        }
    }

    /* ========================================
     ACCESSIBILITY
     ======================================== */

    /* Focus visible for keyboard navigation */
    *:focus-visible {
        outline: 2px solid var(--color-accent-600);
        outline-offset: 2px;
        border-radius: var(--radius-sm);
    }

    /* Reduced motion for accessibility */
    @media (prefers-reduced-motion: reduce) {

        *,
        *::before,
        *::after {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
            scroll-behavior: auto !important;
        }
    }

    /* ========================================
     FORM ELEMENTS
     ======================================== */

    button {
        font-family: inherit;
        cursor: pointer;
        border: none;
        background: none;
    }

    input,
    textarea,
    select {
        font-family: inherit;
        font-size: inherit;
    }

    /* ========================================
     IMAGES & MEDIA
     ======================================== */

    img,
    picture,
    video,
    canvas,
    svg {
        display: block;
        max-width: 100%;
        height: auto;
    }

    /* ========================================
     UTILITY CLASSES
     ======================================== */

    .container {
        width: 100%;
        margin-left: auto;
        margin-right: auto;
        padding-left: var(--space-4);
        padding-right: var(--space-4);
    }

    @media (min-width: 640px) {
        .container {
            max-width: var(--container-sm);
        }
    }

    @media (min-width: 768px) {
        .container {
            max-width: var(--container-md);
            padding-left: var(--space-6);
            padding-right: var(--space-6);
        }
    }

    @media (min-width: 1024px) {
        .container {
            max-width: var(--container-lg);
        }
    }

    @media (min-width: 1280px) {
        .container {
            max-width: var(--container-xl);
        }
    }

    @media (min-width: 1536px) {
        .container {
            max-width: var(--container-2xl);
        }
    }

    /* Screen reader only */
    .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border-width: 0;
    }

    /* ========================================
     CLS PREVENTION UTILITIES
     ======================================== */

    /* Aspect ratio utilities to prevent layout shift */
    .aspect-square {
        aspect-ratio: 1 / 1;
    }

    .aspect-video {
        aspect-ratio: 16 / 9;
    }

    .aspect-4-3 {
        aspect-ratio: 4 / 3;
    }

    .aspect-3-2 {
        aspect-ratio: 3 / 2;
    }

    /* Reserve space for dynamic content */
    .reserve-space-sm {
        min-height: 2rem;
        /* 32px */
    }

    .reserve-space-md {
        min-height: 3rem;
        /* 48px */
    }

    .reserve-space-lg {
        min-height: 4rem;
        /* 64px */
    }

    /* Image container with reserved space */
    .img-container {
        position: relative;
        overflow: hidden;
        background-color: var(--color-neutral-200);
    }

    .img-container img {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
}